<section id="nuestros-servicios">
  <div class="container">
    <h1>Seleccione el Plan a contratar</h1>
    <button class="btn btn-success btncrear"  (click)="abrirdialogoPlanes()">Crear Nuevo Plan</button>
    <div class="grid-container" >
      <div class="grid-item" *ngFor="let plan of listaPlanes">
        <img   class="img"   src="{{plan.imagen}}" alt="">
        <br>
        <ul><li>{{plan.nombre_p}}</li>
          <li>{{plan.costo_p}}</li></ul>

        <button class="btn btn-primary" [routerLink]="['/nuevoservicio',plan.id_plan]">CONTRATAR SERVICIO</button>
      </div>
    </div>
  </div>
<!-- dialo de  planes--->
  <ng-template #dialogNplan>
    <h2> {{titulo}} </h2>
    <mat-form-field>
      <input matInput placeholder="Nombre" name="nombre"  [(ngModel)]="plan.nombre_p"  required/>
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput placeholder="Costo" name="costo" [(ngModel)]="plan.costo_p" required/>
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput placeholder="Imagen" name="imagen" [(ngModel)]="plan.imagen" required/>
    </mat-form-field>
    <br>

    <mat-form-field appearance="outline" style="width: 100%; margin-left: 5px">
      <mat-label>Descripcion</mat-label>
      <mat-select  [(ngModel)]="plan.descripcion_plan" name="descripcion_p" required>
        <mat-option value="anual">ANUAL</mat-option>
        <mat-option value="semestral">SEMESTRAL</mat-option>
        <mat-option value="cuatrimestral">CUATRIMESTRAL</mat-option>
        <mat-option value="trimestral">TRIMESTRAL</mat-option>
        <mat-option value="bimestral">BIMESTRAL</mat-option>
        <mat-option value="mensual">MENSUAL</mat-option>
      </mat-select>
    </mat-form-field>

    <br>
    <mat-form-field>
      <input matInput placeholder="Costo Mesual" name="costo_mensual" [(ngModel)]="plan.p_costo_mensual" required/>
    </mat-form-field>
    <br>

    <mat-form-field appearance="outline" style="width: 100%; margin-left: 5px">
      <mat-label>Estado</mat-label>
      <mat-select [(ngModel)]="plan.estado_plan" name="estado_plan" required>
        <mat-option value="activo">ACTIVO</mat-option>
        <mat-option value="inactivo">FUERA DE SERVICIO</mat-option>
      </mat-select>
    </mat-form-field>
    <br>
    <mat-form-field appearance="fill">
      <mat-label>Modelo GPS</mat-label>
      <mat-select [(ngModel)]="modelo.id_modelo" name="modelo" required>
        <mat-option *ngFor="let modelo of listaModelo" [value]="modelo.id_modelo">
          {{modelo.nombre}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <br>
    <button mat-button mat-dialog-close>Cancelar</button>
    <button mat-button mat-dialog-close (click)="GuardarPlan()" >Guardar</button>

  </ng-template>


</section>



